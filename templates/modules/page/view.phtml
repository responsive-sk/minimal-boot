<?php
// Use theme-aware layout - determine from CSS URL
$currentTheme = 'bootstrap'; // default
if (isset($cssUrl) && str_contains($cssUrl, 'themes/main/assets')) {
    $currentTheme = 'tailwind';
}

$layout($currentTheme . '_layouts::app', [
    'title' => $page->getTitle(),
    'description' => $page->getMetaDescription(),
    'author' => 'Dotkernel Team',
    'cssUrl' => $cssUrl ?? null,
    'jsUrl' => $jsUrl ?? null,
]);
?>

<div class="container my-5">
    <div class="row">
        <div class="col-md-12">
            <article>
                <?= $page->getContent() ?>
            </article>

            <?php if ($page->getPublishedAt()): ?>
                <div class="mt-4 pt-3 border-top text-muted small">
                    Published on <?= $page->getPublishedAt()->format('F j, Y') ?>
                </div>
            <?php endif; ?>
        </div>
    </div>
</div>
